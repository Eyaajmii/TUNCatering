<div class="container mt-4">
  <h2>Suivi de mes Commandes</h2>

  <!-- Affichage conditionnel -->
  <div *ngIf="commandes && commandes.length === 0" class="mt-3">
    Aucune commande trouvée.
  </div>

  <div *ngIf="commandes && commandes.length > 0" class="mt-3">
    <div *ngFor="let commande of commandes" class="card my-2 p-3 shadow-sm">
      <div><strong>Commande ID :</strong> {{ commande._id }}</div>
      <div>
        <strong>Statut :</strong> 
        <span [ngClass]="{
          'text-warning': commande.Statut === 'en attente',
          'text-success': commande.Statut === 'validée',
          'text-danger': commande.Statut === 'refusée'
        }">
          {{ commande.Statut }}
        </span>
      </div>

      <!-- Affichage du menu et des plats -->
      <div *ngIf="commande.menuDetails">
        <div><strong>Menu : </strong>{{ commande.menuDetails.nom }}</div> <!-- Affichage du nom du menu -->
        <div>
          <strong>Plats :</strong>
          <ul>
            <li *ngFor="let plat of commande.menuDetails.PlatsPrincipaux">{{ plat.nom }} - {{ plat.prix }} €</li>
            <li *ngFor="let plat of commande.menuDetails.PlatsEntree">{{ plat.nom }} - {{ plat.prix }} €</li>
            <li *ngFor="let plat of commande.menuDetails.PlatsDessert">{{ plat.nom }} - {{ plat.prix }} €</li>
            <li *ngFor="let plat of commande.menuDetails.Boissons">{{ plat.nom }} - {{ plat.prix }} €</li>
          </ul>
        </div>
      </div>

      <!-- Affichage des plats si aucun menu -->
      <div *ngIf="!commande.menuDetails">
        <strong>Plats :</strong>
        <ul>
          <li *ngFor="let plat of commande.plats">{{ plat.nom }} - {{ plat.prix }} €</li>
        </ul>
      </div>
    </div>
  </div>
</div>
