<div class="container mt-4">
  <aside class="filters">
    <h2>Filtres</h2>
    
    <div class="filter-group">
      <h3>Statut</h3>
      <label *ngFor="let status of statusFilters">
        <input type="checkbox" [(ngModel)]="status.selected">
        {{ status.name }} ({{ status.count }})
      </label>
    </div>

    <div class="filter-group">
      <h3>Date de commande</h3>
      <input type="date" [(ngModel)]="selectedDate">
    </div>
  </aside>
  <div class="content">
  <h2>Suivi de mes Commandes</h2>
  <div *ngIf="commandes && commandes.length === 0" class="mt-3">
    Aucune commande trouvée.
  </div>
  <div *ngIf="FiltreCommande && FiltreCommande.length === 0" class="mt-3">
    Aucune commande trouvée avec les filtres.
  </div>
  <div *ngIf="FiltreCommande && FiltreCommande.length > 0" class="mt-3">
    <div *ngFor="let commande of FiltreCommande" class="card my-2 p-3 shadow-sm">
      <div><strong>Commande ID :</strong> {{ commande._id }}</div>

      <div>
        <strong>Statut :</strong> 
        <span [ngClass]="{
          'text-warning': commande.Statut === 'en attente',
          'text-success': commande.Statut === 'validée',
          'text-danger': commande.Statut === 'refusée'
        }">
          {{ commande.Statut }}
        </span>
      </div>
      <div *ngIf="commande.menu">
        <strong>Menu :</strong> {{ commande.menu.nom }}
      </div>
      <div *ngIf="!commande.menu && commande.plats && commande.plats.length > 0">
        <p><strong>Plats :</strong></p>
        <ul>
          <li *ngFor="let plat of commande.plats">{{ plat.nom }}</li>
        </ul>
      </div>
      <button class="btn btn-warning btn-sm" (click)="modifier(commande._id)" [disabled]="commande.Statut !== 'en attente'">Modifier</button>
      <button class="btn btn-danger btn-sm" (click)="Annuler(commande._id)" [disabled]="commande.Statut !== 'en attente'">Annuler</button>
    </div>
  </div>
  </div>
</div>
