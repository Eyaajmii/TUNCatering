<div class="container mt-5">
  <h2>Enregistrer un nouvel utilisateur</h2>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

    <div class="mb-3">
      <label for="username">Nom d'utilisateur</label>
      <input id="username" class="form-control" formControlName="username" />
    </div>

    <div class="mb-3">
      <label for="password">Mot de passe</label>
      <input id="password" type="password" class="form-control" formControlName="password" />
    </div>

    <div class="mb-3">
      <label for="email">Email</label>
      <input id="email" type="email" class="form-control" formControlName="email" />
    </div>

    <div class="mb-3">
      <label for="nom">Nom</label>
      <input id="nom" class="form-control" formControlName="nom" />
    </div>

    <div class="mb-3">
      <label for="prenom">Prénom</label>
      <input id="prenom" class="form-control" formControlName="prenom" />
    </div>

    <div class="mb-3">
      <label for="telephone">Téléphone</label>
      <input id="telephone" class="form-control" formControlName="telephone" />
    </div>

    <div class="mb-3">
      <label for="role">Rôle</label>
      <select id="role" class="form-control" formControlName="role">
        <option *ngFor="let r of roles" [value]="r">{{ r }}</option>
      </select>
    </div>

    <div class="mb-3" *ngIf="registerForm.get('role')?.value === 'Personnel Tunisair'">
      <label for="roleTunisair">Rôle Tunisair</label>
      <select id="roleTunisair" class="form-control" formControlName="roleTunisair">
        <option *ngFor="let tn of rolestunisair" [value]="tn">{{ tn }}</option>
      </select>
    </div>

    <div class="mb-3" *ngIf="registerForm.get('Matricule')?.validator">
      <label for="Matricule">Matricule</label>
      <input id="Matricule" class="form-control" formControlName="Matricule" />
    </div>

    <div class="mb-3" *ngIf="registerForm.get('TypePersonnel')?.validator">
      <label for="TypePersonnel">Type de Personnel</label>
      <select id="TypePersonnel" class="form-control" formControlName="TypePersonnel">
        <option *ngFor="let p of typePersonnels" [value]="p">{{ p }}</option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="registerForm.invalid">Enregistrer</button>
  </form>
</div>
